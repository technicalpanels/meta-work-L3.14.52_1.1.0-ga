From 258584f7eaf5097eefc19efe6d9ba2f878432d71 Mon Sep 17 00:00:00 2001
From: leavs <leavs_o@126.com>
Date: Mon, 14 May 2018 12:05:45 +0800
Subject: [PATCH 3/3] Add 1280800 Board Support

---
 arch/arm/boot/dts/Makefile                         | 10 ++++-
 .../boot/dts/imx6dl-eisd-1280800-gt9271-logo.dts   | 10 +++++
 arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271.dts   | 39 ++++++++++++++++
 arch/arm/boot/dts/imx6dl-eisd-1280800-logo.dts     | 10 +++++
 arch/arm/boot/dts/imx6dl-eisd-1280800.dts          | 20 +++++++++
 .../boot/dts/imx6q-eisd-1280800-gt9271-logo.dts    | 10 +++++
 arch/arm/boot/dts/imx6q-eisd-1280800-gt9271.dts    | 39 ++++++++++++++++
 arch/arm/boot/dts/imx6q-eisd-1280800-logo.dts      | 10 +++++
 arch/arm/boot/dts/imx6q-eisd-1280800.dts           | 20 +++++++++
 arch/arm/boot/dts/imx6qdl-eisd-1280800.dtsi        | 52 ++++++++++++++++++++++
 10 files changed, 219 insertions(+), 1 deletion(-)
 create mode 100644 arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271-logo.dts
 create mode 100644 arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271.dts
 create mode 100644 arch/arm/boot/dts/imx6dl-eisd-1280800-logo.dts
 create mode 100644 arch/arm/boot/dts/imx6dl-eisd-1280800.dts
 create mode 100644 arch/arm/boot/dts/imx6q-eisd-1280800-gt9271-logo.dts
 create mode 100644 arch/arm/boot/dts/imx6q-eisd-1280800-gt9271.dts
 create mode 100644 arch/arm/boot/dts/imx6q-eisd-1280800-logo.dts
 create mode 100644 arch/arm/boot/dts/imx6q-eisd-1280800.dts
 create mode 100644 arch/arm/boot/dts/imx6qdl-eisd-1280800.dtsi

diff --git a/arch/arm/boot/dts/Makefile b/arch/arm/boot/dts/Makefile
index 1a3fb50..438d880 100644
--- a/arch/arm/boot/dts/Makefile
+++ b/arch/arm/boot/dts/Makefile
@@ -288,7 +288,15 @@ dtb-$(CONFIG_ARCH_MXC) += \
 	imx6dl-eisd-1024600.dtb \
 	imx6dl-eisd-1024600-logo.dtb \
 	imx6dl-eisd-1024600-gt911.dtb \
-	imx6dl-eisd-1024600-gt911-logo.dtb
+	imx6dl-eisd-1024600-gt911-logo.dtb \
+	imx6q-eisd-1280800.dtb \
+	imx6q-eisd-1280800-logo.dtb \
+	imx6q-eisd-1280800-gt9271.dtb \
+	imx6q-eisd-1280800-gt9271-logo.dtb \
+	imx6dl-eisd-1280800.dtb \
+	imx6dl-eisd-1280800-logo.dtb \
+	imx6dl-eisd-1280800-gt9271.dtb \
+	imx6dl-eisd-1280800-gt9271-logo.dtb
 dtb-$(CONFIG_ARCH_MXS) += imx23-evk.dtb \
 	imx23-olinuxino.dtb \
 	imx23-stmp378x_devb.dtb \
diff --git a/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271-logo.dts b/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271-logo.dts
new file mode 100644
index 0000000..d4f62a9
--- /dev/null
+++ b/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271-logo.dts
@@ -0,0 +1,10 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6dl-eisd-1280800-gt9271.dts"
+#include "imx6qdl-eisd-logo.dtsi"
diff --git a/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271.dts b/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271.dts
new file mode 100644
index 0000000..b2e205b
--- /dev/null
+++ b/arch/arm/boot/dts/imx6dl-eisd-1280800-gt9271.dts
@@ -0,0 +1,39 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6dl-eisd.dts"
+#include "imx6qdl-eisd-1280800.dtsi"
+
+&i2c1 {
+        goodix_ts@5d {
+                compatible = "goodix,gt9xx";
+                reg = <0x5d>;
+                interrupt-parent = <&gpio1>;
+                interrupts = <9 2>;
+                goodix,irq-gpio = <&gpio1 9 0>;
+                goodix,rst-gpio = <&gpio5 20 0>;
+		goodix,cfg-group3 = [
+                        63 00 05 20 03 0A 3D 00 01 08 28
+                        05 55 41 03 05 00 00 00 00 00 00
+                        00 1A 1C 1E 14 90 30 AA 28 2A D6
+                        09 00 00 01 BA 03 2D 00 00 00 00
+                        00 00 00 00 00 00 00 14 46 94 C5
+                        02 00 00 00 04 BC 16 00 9B 1D 00
+                        85 25 00 74 30 00 67 3E 00 67 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 01 04 05 06 07 08 09 0C
+                        0D 0E 0F 10 11 14 15 16 17 18 19
+                        00 00 00 00 00 00 00 00 00 00 00
+                        02 04 06 07 08 0A 0C 0D 0E 0F 10
+                        11 12 13 14 19 1B 1C 1E 1F 20 21
+                        22 23 24 25 26 27 28 29 2A 00 00
+                        00 00 00 00 00 00 00 00 F0 01];
+                };
+};
diff --git a/arch/arm/boot/dts/imx6dl-eisd-1280800-logo.dts b/arch/arm/boot/dts/imx6dl-eisd-1280800-logo.dts
new file mode 100644
index 0000000..a579548
--- /dev/null
+++ b/arch/arm/boot/dts/imx6dl-eisd-1280800-logo.dts
@@ -0,0 +1,10 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6dl-eisd-1280800.dts"
+#include "imx6qdl-eisd-logo.dtsi"
diff --git a/arch/arm/boot/dts/imx6dl-eisd-1280800.dts b/arch/arm/boot/dts/imx6dl-eisd-1280800.dts
new file mode 100644
index 0000000..bc7807b
--- /dev/null
+++ b/arch/arm/boot/dts/imx6dl-eisd-1280800.dts
@@ -0,0 +1,20 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6dl-eisd.dts"
+#include "imx6qdl-eisd-1280800.dtsi"
+
+&i2c1 {
+	ft5x06@38 {
+                compatible = "ft5x06,ft5x06-touch";
+                reg = <0x38>;
+                interrupt-parent = <&gpio1>;
+                interrupts = <9 2>;
+                wakeup-gpios = <&gpio1 9 1>;
+        };
+};
diff --git a/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271-logo.dts b/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271-logo.dts
new file mode 100644
index 0000000..7178078
--- /dev/null
+++ b/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271-logo.dts
@@ -0,0 +1,10 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6q-eisd-1280800-gt9271.dts"
+#include "imx6qdl-eisd-logo.dtsi"
diff --git a/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271.dts b/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271.dts
new file mode 100644
index 0000000..f5ee9b1
--- /dev/null
+++ b/arch/arm/boot/dts/imx6q-eisd-1280800-gt9271.dts
@@ -0,0 +1,39 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6q-eisd.dts"
+#include "imx6qdl-eisd-1280800.dtsi"
+
+&i2c1 {
+        goodix_ts@5d {
+                compatible = "goodix,gt9xx";
+                reg = <0x5d>;
+                interrupt-parent = <&gpio1>;
+                interrupts = <9 2>;
+                goodix,irq-gpio = <&gpio1 9 0>;
+                goodix,rst-gpio = <&gpio5 20 0>;
+		goodix,cfg-group3 = [
+                        63 00 05 20 03 0A 3D 00 01 08 28
+                        05 55 41 03 05 00 00 00 00 00 00
+                        00 1A 1C 1E 14 90 30 AA 28 2A D6
+                        09 00 00 01 BA 03 2D 00 00 00 00
+                        00 00 00 00 00 00 00 14 46 94 C5
+                        02 00 00 00 04 BC 16 00 9B 1D 00
+                        85 25 00 74 30 00 67 3E 00 67 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 00 00 00 00 00 00 00 00
+                        00 00 00 01 04 05 06 07 08 09 0C
+                        0D 0E 0F 10 11 14 15 16 17 18 19
+                        00 00 00 00 00 00 00 00 00 00 00
+                        02 04 06 07 08 0A 0C 0D 0E 0F 10
+                        11 12 13 14 19 1B 1C 1E 1F 20 21
+                        22 23 24 25 26 27 28 29 2A 00 00
+                        00 00 00 00 00 00 00 00 F0 01];
+                };
+};
diff --git a/arch/arm/boot/dts/imx6q-eisd-1280800-logo.dts b/arch/arm/boot/dts/imx6q-eisd-1280800-logo.dts
new file mode 100644
index 0000000..1e20abc
--- /dev/null
+++ b/arch/arm/boot/dts/imx6q-eisd-1280800-logo.dts
@@ -0,0 +1,10 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6q-eisd-1280800.dts"
+#include "imx6qdl-eisd-logo.dtsi"
diff --git a/arch/arm/boot/dts/imx6q-eisd-1280800.dts b/arch/arm/boot/dts/imx6q-eisd-1280800.dts
new file mode 100644
index 0000000..d71e305
--- /dev/null
+++ b/arch/arm/boot/dts/imx6q-eisd-1280800.dts
@@ -0,0 +1,20 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+
+#include "imx6q-eisd.dts"
+#include "imx6qdl-eisd-1280800.dtsi"
+
+&i2c1 {
+	ft5x06@38 {
+                compatible = "ft5x06,ft5x06-touch";
+                reg = <0x38>;
+                interrupt-parent = <&gpio1>;
+                interrupts = <9 2>;
+                wakeup-gpios = <&gpio1 9 1>;
+        };
+};
diff --git a/arch/arm/boot/dts/imx6qdl-eisd-1280800.dtsi b/arch/arm/boot/dts/imx6qdl-eisd-1280800.dtsi
new file mode 100644
index 0000000..74117a1
--- /dev/null
+++ b/arch/arm/boot/dts/imx6qdl-eisd-1280800.dtsi
@@ -0,0 +1,52 @@
+/*
+ * Copyright (C) 2016 Freescale Semiconductor, Inc.
+ *
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License version 2 as
+ * published by the Free Software Foundation.
+ */
+/ {
+	backlight {
+	        compatible = "pwm-backlight";
+	        pwms = <&pwm1 0 5000000>;
+        	brightness-levels = <0 4 8 16 32 64 128 255>;
+	        default-brightness-level = <7>;
+        	status = "okay";
+	};
+};
+
+&ldb {
+	status = "okay";
+
+	lvds-channel@0 {
+                fsl,data-mapping = "spwg";
+                fsl,data-width = <24>;
+                primary;
+                status = "okay";
+
+		display-timings {
+                        native-mode = <&timing010>;
+			timing010: CHIMEI-WXGA {
+                                clock-frequency = <71100000>;
+                                hactive = <1280>;
+                                vactive = <800>;
+                                hback-porch = <40>;
+                                hfront-porch = <40>;
+                                vback-porch = <3>;
+                                vfront-porch = <10>;
+                                hsync-len = <80>;
+                                vsync-len = <10>;
+                        };
+		};	
+	};
+
+	lvds-channel@1 {
+		status = "disabled";
+	};
+};
+
+&pwm1 {
+        pinctrl-names = "default";
+        pinctrl-0 = <&pinctrl_pwm1>;
+        status = "okay";
+};
-- 
1.9.1

